Aku kunci config final buat Enhanced Sniper—siap tempel, adaptif (pakai rolling percentile), dan 100% kompatibel paket Standard CoinGlass.

TL;DR

Gunakan rolling percentile (p85/p95/p99) per metrik → threshold otomatis adapt ke volatilitas terbaru.

Confluence: ≥2 layer searah = Watch, ≥3 layer (min 1 level Action) = Action.

Semua layer pakai endpoint v4 yang memang tersedia di Standard:
funding OHLC, taker buy/sell (pair & aggregated), liquidation (coin aggregated & pair), ETF flows. 
CoinGlass-API
+5
CoinGlass-API
+5
CoinGlass-API
+5

Final threshold (angka praktik terbaik)

Default “abs” dipakai hanya jika historikal belum cukup; begitu rolling-percentile terbentuk, prioritaskan percentile.

Layer	Watch	Action	Catatan/Endpoint
Institutional Bias (score internal)	|z-score| ≥ 1 atau |score| ≥ 0.25	|z-score| ≥ 2 atau |score| ≥ 0.60	Skor internal kamu (data-driven).
Funding Rate (OHLC)	|funding| ≥ p85 30D atau ≥ 5 bps/8h	|funding| ≥ p95 30D atau ≥ 10 bps/8h	/api/futures/funding-rate/history (opsional vol-weight). 
CoinGlass-API
+1

OI (rate of change)	Price↑ & OI↑ ≥ +2%/1h atau ≥ p85 60D	Price↑ & OI↑ ≥ +5%/1h atau ≥ p95 60D	/api/futures/open-interest/aggregated-history (atau pair). 
CoinGlass-API

Taker Buy/Sell Ratio	≥ 1.40 atau ≤ 0.70 atau ≥/≤ p85 30D	≥ 1.80 atau ≤ 0.55 atau ≥/≤ p95 30D	Pair & Coin aggregated. 
CoinGlass-API
+1

Liquidation (coin aggregated)	Total liq (long/short) ≥ p95 7D	≥ p99 7D dan konfirmasi di pair dominan ±1 bar	/api/futures/liquidation/aggregated-history + pair. 
CoinGlass-API
+1

ETF Flows (BTC)	|flow_usd| ≥ 1.5× MA7	|flow_usd| ≥ 3× MA7 atau ≥ p95 90D	/api/etf/bitcoin/flow-history. 
CoinGlass-API

NB: Heatmap/Map likuidasi adalah Pro+; di Standard tetap pakai history (coin/pair). 
CoinGlass-API

Konfigurasi siap-tempel (JSON)
{
  "layers": {
    "bias":   { "z_watch": 1.0, "z_action": 2.0, "abs_watch": 0.25, "abs_action": 0.60 },
    "funding": { "lookback": "30d", "p_watch": 85, "p_action": 95, "abs_per_8h_watch_bps": 5, "abs_per_8h_action_bps": 10, "use_vol_weight": true },
    "oi":     { "roc_window": "1h", "watch_pct": 0.02, "action_pct": 0.05, "p_watch_60d": 85, "p_action_60d": 95 },
    "taker_ratio": { "lookback": "30d", "p_watch": 85, "p_action": 95, "abs_watch": [1.40, 0.70], "abs_action": [1.80, 0.55] },
    "liquidation": { "lookback": "7d", "p_watch": 95, "p_action": 99, "pair_confirm": true, "confirm_window_bars": 1 },
    "etf_flows": { "ma_window": 7, "mult_watch": 1.5, "mult_action": 3.0, "p_action_90d": 95 }
  },
  "confluence": { "watch_min": 2, "action_min": 3, "require_one_action": true, "anti_liq_flip": true },
  "cooldown": { "dedup_min": 5, "sustain_bars_for_escalation": 3 }
}

Rumus singkat (agar mapper/DTO kamu konsisten)

Taker ratio = aggregated_buy_volume_usd / max(1, aggregated_sell_volume_usd) (pair/coin). 
CoinGlass-API
+1

Net buy pressure (USD) = buy - sell.

Funding abs (bps) = abs(funding_close) × 10,000 per 8h (standarkan dulu ke satuan per 8h dari endpoint). 
CoinGlass-API

OI ROC = (OI_t − OI_{t-1}) / OI_{t-1} pada interval yang sama dengan price. 
CoinGlass-API

Liquidation coin-agg return standar: time, aggregated_long_liquidation_usd, aggregated_short_liquidation_usd. Untuk breakdown per exchange gunakan exchange-list (opsional). 
CoinGlass-API

ETF flows: gunakan timestamp, flow_usd, price_usd, etf_flows[]; metadata seperti shares_outstanding berasal dari ETF list (bukan flow-history). 
CoinGlass-API
+1

Terapkan ke sampel kamu (sekilas)

Taker ratio 1.61 ⇒ Watch langsung (≥1.40). (Gunakan percentile kalau sudah tersedia untuk akurasi lebih.) 
CoinGlass-API

Funding close negatif kecil ⇒ belum tentu signal; bandingkan ke p85/p95 30D dari OHLC funding. (Vol-weight kalau bisa). 
CoinGlass-API
+1

Liquidation coin-agg kosong 1h & 4h ⇒ pasar sepi = wajar; bukan isu plan. Fallback 1d hanya untuk konteks HTF. 
CoinGlass-API

Checklist implementasi (production)

 Percentile engine (rolling window sesuai config) untuk semua layer.

 Confluence evaluator (≥2 Watch = Watch, ≥3 dgn ≥1 Action = Action).

 Kill-switch: kalau liquidation spike Action berlawanan, override & reset bias. 
CoinGlass-API

 ETF flows pakai flow-history; ETF list hanya untuk status/meta (jangan campur field). 
CoinGlass-API
+1

 Hanya pakai endpoint v4 & query params yang benar; simpan CG-API-KEY di header (REST) / query (WS). 
CoinGlass-API
+2
CoinGlass-API
+2